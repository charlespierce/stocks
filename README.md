# Stocks

CLI tool for getting quick stock prices. Data provided by [IEX Cloud](https://iexcloud.io)

## Installation

`stocks` requires [Node.js](https://nodejs.org) version 10.13.0 or above. To install, run:

```
npm install --global https://github.com/charlespierce/stocks
```

## API Token

All of the data for `stocks` is fetched from the [IEX Cloud API](https://iexcloud.io), which requires an API token. In order to work, you must use the `stocks login` command to provide an API token to use for requests. If you don't wish to store your token, you can also provide it at the command line with the `--token` flag.

See https://iexcloud.io for more information and to create an account to generate an API token.

## Usage

### `stocks`

When invoked without any commands, `stocks` will fetch information about your favorite stocks and present it to you. If you haven't yet set any favorite stocks, then it will show a default list of popular stocks.

```
> stocks
┌────────┬───────────┬───────────┬────────┬────────┐
│ Symbol │  Previous │   Current │ Change │      % │
├────────┼───────────┼───────────┼────────┼────────┤
│ FB     │   $258.12 │   $263.65 │  $5.53 │  2.14% │
├────────┼───────────┼───────────┼────────┼────────┤
│ AAPL   │   $115.08 │   $114.97 │ -$0.11 │ -0.10% │
├────────┼───────────┼───────────┼────────┼────────┤
│ AMZN   │ $3,195.69 │ $3,190.01 │ -$5.68 │ -0.18% │
├────────┼───────────┼───────────┼────────┼────────┤
│ NFLX   │   $534.66 │   $531.83 │ -$2.83 │ -0.53% │
├────────┼───────────┼───────────┼────────┼────────┤
│ GOOG   │ $1,460.29 │ $1,485.95 │ $25.66 │  1.76% │
└────────┴───────────┴───────────┴────────┴────────┘
```

### `stocks get <symbols..>`

Fetch information about the provided list of stock symbols. Any invalid symbols will be ignored and omitted from the results.

```
> stocks get tsla msft fdx
┌────────┬──────────┬─────────┬────────┬───────┐
│ Symbol │ Previous │ Current │ Change │     % │
├────────┼──────────┼─────────┼────────┼───────┤
│ TSLA   │  $425.30 │ $425.87 │  $0.56 │ 0.13% │
├────────┼──────────┼─────────┼────────┼───────┤
│ MSFT   │  $209.83 │ $210.64 │  $0.81 │ 0.39% │
├────────┼──────────┼─────────┼────────┼───────┤
│ FDX    │  $268.26 │ $271.06 │  $2.80 │ 1.04% │
└────────┴──────────┴─────────┴────────┴───────┘
```

### `stocks favorites <subcommand>`

Manage your favorite stocks using the subcommands `add`, `remove`, and `list`.

#### `stocks favorites add <symbols..>`

Add the provided list of stocks to your list of favorites

```
> stocks favorites add aapl etsy
Your favorite stocks: AAPL, ETSY
```

#### `stocks favorites remove <symbols..>`

Remove the provided list of stocks from your list of favorites

```
> stocks favorites remove aapl
Your favorite stocks: ETSY
```

#### `stocks favorites list`

Show your current list of favorite stocks.

```
> stocks favorites list
Your favorite stocks: ETSY
```

### `stocks login <token>`

Save the provided API token to be used on future API calls.

```
> stocks login Tpk_707df1885ad14bff8adf7fc655817274
API token saved!
```

### `stocks logout`

Erase the saved API token from your local storage.

```
> stocks logout
API token removed!
```

## Future Work

This CLI tool is very early stages, and there are a lot of areas for improvement.

### Expand test coverage

Currently, `stocks` only has a partial suite of unit and acceptance tests. Those tests should be expanded to cover more of the functionality. Additionally, there should be end-to-end tests using a testing sandbox account to test the full behavior of the tool.

### Help output customization

The help output is auto-generated by `yargs` and could be improved to be more user-friendly. That may require switching to a different argument parser that provides more customizability.

### Different API Support

Currently, `stocks` always fetches data from the IEX Cloud API. However, there are a number of different APIs to gather the stock information that we use. Adding support for others would allow more people to use it without having to create an account with one specific provider.

### Support for Streaming

IEX Cloud API has a streaming feature for paid accounts. An improvement to `stocks` would be to have a command that streams the most up-to-date information about your favorite stocks and constantly refreshes.

### More Comprehensive Information

The stock price APIs provide a lot more information than we are currently using. Another enhancement would be to surface more of that information and allow users to customize their output to exactly the information they want.

### Portfolio Support

`stocks` could provide an interface to store information about your stock portfolio, which we could then combine with price information to show an up-to-date summary of your entire portfolio. Alternatively, integration with the major stock broker APIs could provide the means to show real-time portfolio information.
